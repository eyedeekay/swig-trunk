lines(0);

// Get test name (used in swigtest.quit file)
[units, typ, names] = file(1);
swigtestname = strsubst(fileparts(names, "fname"), "_runme", "");

// Does the library exists? If not then exit!
if ~isfile("lib" + swigtestname + "lib" + getdynlibext()) then
    mprintf("*** LIBRARY NOT FOUND: %s ***\n", "lib" + swigtestname + "lib" + getdynlibext());
    exit
end

// Load library
try
    exec("loader.sce", -1);
catch
    mprintf("*** LOADER EXECUTION FAILED ***\n");
    exit
end

// Error management function
function swigtesterror()
    mprintf("*** TEST FAILED ***\n")
    exit
endfunction
