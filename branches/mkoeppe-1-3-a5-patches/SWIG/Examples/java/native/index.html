<html>
<head>
<title>SWIG:Examples:java:native</title>
</head>

<body bgcolor="#ffffff">


<tt>SWIG/Examples/java/native/</tt>
<hr>

<H2>SWIG wrapped and manually wrapped functions in Java</H2>

<tt>$Header$</tt><br>

<p>
This example compares wrapping a c global function using the manual way and the SWIG way.

<ul>
<li><a href="example.i">example.i</a>. Interface file comparing code wrapped by SWIG and wrapped manually. 
<li><a href="main.java">main.java</a>. Sample Java program showing calls to both manually wrapped and SWIG wrapped c functions.
</ul>

<h2>Notes</h2>

<ul>
<li>SWIG writes all the awkward JNI code for you. You just have to tell SWIG which functions to wrap.
<li>If memory is allocated in c it needs to be free'd. A function, such as free(), can be provided with access from Java to free the memory.
</ul>

<h2>Running the example</h2>
Run the makefile. This will output the swig generated JNI c code as well as the java wrapper classes. Additionally the JNI c code is compiled into the shared object (dynamic link library) which is needed for dynamic linking to the native code.
<blockquote>
<pre>
make
</pre>
</blockquote>
<p>
Compile all the java files to create the class files before running <a href="main.java">main.java</a> in the JVM.  Ensure that the dynamic link library file is in the appropriate path. For example in unix, libexample.so must be in the LD_LIBRARY_PATH. Example:
<blockquote>
<pre>
export LD_LIBRARY_PATH=. #ksh 
javac *.java
java main
</pre>
</blockquote>


<hr>
</body>
</html>
